<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript ES6+ - ePortfolio</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <i class="fas fa-code"></i> My ePortfolio
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="fullstack.html">Full Stack Development</a></li>
                    <li class="nav-item"><a class="nav-link" href="html.html">HTML</a></li>
                    <li class="nav-item"><a class="nav-link" href="css.html">CSS</a></li>
                    <li class="nav-item"><a class="nav-link" href="bootstrap.html">Bootstrap</a></li>
                    <li class="nav-item"><a class="nav-link active" href="javascript.html">JavaScript</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container my-5">
        <!-- Page Header -->
        <div class="row mb-5">
            <div class="col-12 text-center">
                <h1 class="display-4 fw-bold mb-3">
                    <i class="fab fa-js-square text-warning"></i> JavaScript ES6+ Mastery
                </h1>
                <p class="lead">From DOM manipulation to modern JavaScript features and APIs</p>
            </div>
        </div>

        <!-- Introduction -->
        <section class="mb-5">
            <h2><i class="fas fa-info-circle text-info"></i> What is JavaScript?</h2>
            <p><strong>JavaScript</strong> is a dynamic, high-level programming language that enables interactive web pages and is an essential part of web development. Modern JavaScript (ES6+) introduces powerful features like arrow functions, classes, modules, and async/await that make code more readable and maintainable.</p>

            <div class="alert alert-info">
                <i class="fas fa-lightbulb"></i>
                <strong>Key Concept:</strong> JavaScript runs in the browser (client-side) and on servers (Node.js), making it a versatile language for full-stack development.
            </div>

            <div class="row">
                <div class="col-md-4 text-center">
                    <i class="fas fa-browser fa-3x text-primary mb-3"></i>
                    <h5>Client-Side</h5>
                    <p>DOM manipulation, user interactions</p>
                </div>
                <div class="col-md-4 text-center">
                    <i class="fas fa-server fa-3x text-success mb-3"></i>
                    <h5>Server-Side</h5>
                    <p>APIs, databases, file systems</p>
                </div>
                <div class="col-md-4 text-center">
                    <i class="fas fa-mobile-alt fa-3x text-warning mb-3"></i>
                    <h5>Cross-Platform</h5>
                    <p>Web, mobile, desktop applications</p>
                </div>
            </div>
        </section>

        <!-- DOM Manipulation -->
        <section class="mb-5">
            <h2><i class="fas fa-code text-primary"></i> DOM Manipulation</h2>
            <p>The Document Object Model (DOM) allows JavaScript to interact with HTML elements, modify content, and respond to user events.</p>

            <div class="example-container">
                <h5>Interactive DOM Demo</h5>
                <div class="row">
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label for="textInput" class="form-label">Enter text:</label>
                            <input type="text" id="textInput" class="form-control" placeholder="Type something...">
                        </div>
                        <div class="mb-3">
                            <button class="btn btn-primary me-2" onclick="changeText()">Change Text</button>
                            <button class="btn btn-success me-2" onclick="changeColor()">Change Color</button>
                            <button class="btn btn-warning me-2" onclick="addClass()">Add Class</button>
                            <button class="btn btn-danger" onclick="resetDemo()">Reset</button>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div id="demoElement" class="p-4 border rounded text-center">
                            <h5>Dynamic Element</h5>
                            <p>This element will be modified by JavaScript</p>
                        </div>
                        <div class="mt-3">
                            <ul id="eventLog" class="list-group" style="max-height: 150px; overflow-y: auto;">
                                <li class="list-group-item small">Event log will appear here...</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="code-block" data-lang="JavaScript">
                <pre><code>// DOM Selection Methods
const element = document.getElementById('myElement');
const elements = document.querySelectorAll('.my-class');
const firstDiv = document.querySelector('div');

// Content Manipulation
element.textContent = 'New text content';
element.innerHTML = '&lt;strong&gt;Bold text&lt;/strong&gt;';

// Style Manipulation
element.style.color = 'red';
element.style.backgroundColor = '#f0f0f0';

// Class Management
element.classList.add('new-class');
element.classList.remove('old-class');
element.classList.toggle('active');

// Attribute Management
element.setAttribute('data-value', '123');
const value = element.getAttribute('data-value');

// Event Handling
element.addEventListener('click', function(event) {
    console.log('Element clicked!');
    event.preventDefault(); // Prevent default behavior
});

// Creating and Inserting Elements
const newDiv = document.createElement('div');
newDiv.textContent = 'New element';
newDiv.className = 'dynamic-element';
document.body.appendChild(newDiv);</code></pre>
            </div>

            <h3>DOM Manipulation Explained:</h3>
            <ul>
                <li><strong>getElementById():</strong> Selects element by its unique ID attribute</li>
                <li><strong>querySelector():</strong> Uses CSS selectors to find elements</li>
                <li><strong>textContent vs innerHTML:</strong> Text-only vs HTML content manipulation</li>
                <li><strong>classList:</strong> Modern way to manage CSS classes</li>
                <li><strong>addEventListener():</strong> Attaches event handlers to elements</li>
            </ul>
        </section>

        <!-- Todo App -->
        <section class="mb-5">
            <h2><i class="fas fa-tasks text-success"></i> Interactive Todo Application</h2>
            <p>A practical example demonstrating array methods, local storage, and dynamic DOM updates.</p>

            <div class="example-container">
                <div class="todo-app">
                    <div class="todo-header">
                        <h4><i class="fas fa-check-circle"></i> My Todo List</h4>
                        <p class="mb-0" id="todoCount">4 remaining</p>
                    </div>
                    <div class="todo-input">
                        <input type="text" id="todoInput" class="form-control" placeholder="Add new task...">
                        <button id="addTodo" class="btn btn-primary">
                            <i class="fas fa-plus"></i> Add
                        </button>
                    </div>
                    <div id="todoList" class="todo-list">
                        <!-- Todo items will be inserted here by JavaScript -->
                    </div>
                </div>
            </div>

            <div class="code-block" data-lang="JavaScript">
                <pre><code>// Todo App Implementation
class TodoApp {
    constructor() {
        this.todos = [
            { id: 1, text: 'Learn HTML semantics', completed: true },
            { id: 2, text: 'Master CSS Grid', completed: true },
            { id: 3, text: 'Build responsive layouts', completed: false },
            { id: 4, text: 'Implement JavaScript features', completed: false }
        ];
        this.nextId = 5;
        this.init();
    }

    init() {
        this.renderTodos();
        this.setupEventListeners();
    }

    setupEventListeners() {
        document.getElementById('addTodo').addEventListener('click', () => this.addTodo());
        document.getElementById('todoInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') this.addTodo();
        });
    }

    addTodo() {
        const input = document.getElementById('todoInput');
        const text = input.value.trim();

        if (text) {
            this.todos.push({
                id: this.nextId++,
                text: text,
                completed: false
            });
            input.value = '';
            this.renderTodos();
            this.saveToLocalStorage();
        }
    }

    toggleTodo(id) {
        const todo = this.todos.find(t => t.id === id);
        if (todo) {
            todo.completed = !todo.completed;
            this.renderTodos();
            this.saveToLocalStorage();
        }
    }

    deleteTodo(id) {
        this.todos = this.todos.filter(t => t.id !== id);
        this.renderTodos();
        this.saveToLocalStorage();
    }

    renderTodos() {
        const todoList = document.getElementById('todoList');
        todoList.innerHTML = '';

        this.todos.forEach(todo => {
            const todoElement = this.createTodoElement(todo);
            todoList.appendChild(todoElement);
        });

        this.updateCount();
    }

    updateCount() {
        const remaining = this.todos.filter(t => !t.completed).length;
        document.getElementById('todoCount').textContent = `${remaining} remaining`;
    }

    saveToLocalStorage() {
        localStorage.setItem('todos', JSON.stringify(this.todos));
    }
}

// Initialize the app
const todoApp = new TodoApp();</code></pre>
            </div>
        </section>

        <!-- Array Methods -->
        <section class="mb-5">
            <h2><i class="fas fa-list text-warning"></i> Modern Array Methods</h2>
            <p>ES6+ introduces powerful array methods for functional programming and data manipulation.</p>

            <div class="example-container">
                <h5>Array Methods Demo</h5>
                <div class="row">
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label class="form-label">Sample Data:</label>
                            <div class="bg-light p-3 rounded">
                                <code>
                                    users = [<br>
                                    &nbsp;&nbsp;{ name: 'John', age: 25, role: 'developer' },<br>
                                    &nbsp;&nbsp;{ name: 'Jane', age: 30, role: 'designer' },<br>
                                    &nbsp;&nbsp;{ name: 'Bob', age: 35, role: 'manager' }<br>
                                    ]
                                </code>
                            </div>
                        </div>
                        <button class="btn btn-primary btn-sm me-2" onclick="demoMap()">map()</button>
                        <button class="btn btn-success btn-sm me-2" onclick="demoFilter()">filter()</button>
                        <button class="btn btn-warning btn-sm me-2" onclick="demoReduce()">reduce()</button>
                        <button class="btn btn-info btn-sm" onclick="demoFind()">find()</button>
                    </div>
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label class="form-label">Output:</label>
                            <div id="arrayOutput" class="bg-light p-3 rounded" style="min-height: 120px; font-family: monospace; font-size: 0.9em;">
                                Click a method to see the result
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="code-block" data-lang="JavaScript">
                <pre><code>const users = [
    { name: 'John', age: 25, role: 'developer', salary: 60000 },
    { name: 'Jane', age: 30, role: 'designer', salary: 55000 },
    { name: 'Bob', age: 35, role: 'manager', salary: 75000 }
];

// map() - Transform each element
const names = users.map(user => user.name);
// Result: ['John', 'Jane', 'Bob']

const userCards = users.map(user => ({
    ...user,
    displayName: `${user.name} (${user.age})`
}));

// filter() - Select elements that meet criteria
const developers = users.filter(user => user.role === 'developer');
const youngUsers = users.filter(user => user.age < 30);

// reduce() - Combine elements into single value
const totalSalary = users.reduce((sum, user) => sum + user.salary, 0);
const avgAge = users.reduce((sum, user) => sum + user.age, 0) / users.length;

// find() - Get first matching element
const manager = users.find(user => user.role === 'manager');
const userJohn = users.find(user => user.name === 'John');

// some() & every() - Boolean tests
const hasManager = users.some(user => user.role === 'manager'); // true
const allYoung = users.every(user => user.age < 40); // true

// Advanced chaining
const result = users
    .filter(user => user.age > 25)
    .map(user => ({ name: user.name, role: user.role }))
    .sort((a, b) => a.name.localeCompare(b.name));</code></pre>
            </div>
        </section>

        <!-- Fetch API -->
        <section class="mb-5">
            <h2><i class="fas fa-download text-info"></i> Fetch API & Async Programming</h2>
            <p>Modern JavaScript uses the Fetch API and async/await for handling asynchronous operations like API calls.</p>

            <div class="example-container">
                <div class="api-demo">
                    <h5>User Data from JSONPlaceholder API</h5>
                    <button id="loadUsers" class="btn btn-primary mb-3">
                        <i class="fas fa-download"></i> Load Users
                    </button>
                    <div id="usersContainer">
                        <div class="text-center text-muted">
                            <i class="fas fa-users fa-3x mb-3"></i>
                            <p>Click "Load Users" to fetch data from API</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="code-block" data-lang="JavaScript">
                <pre><code>// Modern Async/Await Syntax
async function loadUsers() {
    const loadBtn = document.getElementById('loadUsers');
    const container = document.getElementById('usersContainer');

    // Show loading state
    loadBtn.disabled = true;
    loadBtn.innerHTML = '&lt;i class="fas fa-spinner fa-spin"&gt;&lt;/i&gt; Loading...';
    container.innerHTML = '&lt;div class="text-center"&gt;Loading users...&lt;/div&gt;';

    try {
        // Fetch data from API
        const response = await fetch('https://jsonplaceholder.typicode.com/users');

        // Check if request was successful
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }

        // Parse JSON data
        const users = await response.json();

        // Process and display data
        displayUsers(users.slice(0, 5)); // Show first 5 users

    } catch (error) {
        // Handle errors
        console.error('Error fetching users:', error);
        container.innerHTML = `
            &lt;div class="alert alert-danger"&gt;
                &lt;i class="fas fa-exclamation-triangle"&gt;&lt;/i&gt;
                Error loading users: ${error.message}
            &lt;/div&gt;
        `;
    } finally {
        // Reset button state
        loadBtn.disabled = false;
        loadBtn.innerHTML = '&lt;i class="fas fa-refresh"&gt;&lt;/i&gt; Reload Users';
    }
}

function displayUsers(users) {
    const container = document.getElementById('usersContainer');
    container.innerHTML = '';

    users.forEach(user => {
        const userCard = document.createElement('div');
        userCard.className = 'user-card fade-in';
        userCard.innerHTML = `
            &lt;h5&gt;&lt;i class="fas fa-user"&gt;&lt;/i&gt; ${user.name}&lt;/h5&gt;
            &lt;p&gt;&lt;strong&gt;Email:&lt;/strong&gt; ${user.email}&lt;/p&gt;
            &lt;p&gt;&lt;strong&gt;Phone:&lt;/strong&gt; ${user.phone}&lt;/p&gt;
            &lt;p&gt;&lt;strong&gt;Company:&lt;/strong&gt; ${user.company.name}&lt;/p&gt;
            &lt;p&gt;&lt;strong&gt;Website:&lt;/strong&gt; 
               &lt;a href="http://${user.website}" target="_blank"&gt;${user.website}&lt;/a&gt;
            &lt;/p&gt;
        `;
        container.appendChild(userCard);
    });
}

// Promise-based approach (alternative)
function loadUsersWithPromises() {
    fetch('https://jsonplaceholder.typicode.com/users')
        .then(response => response.json())
        .then(users => displayUsers(users.slice(0, 5)))
        .catch(error => console.error('Error:', error));
}</code></pre>
            </div>

            <h3>Async Programming Concepts:</h3>
            <div class="row">
                <div class="col-md-6">
                    <ul>
                        <li><strong>Promises:</strong> Represent future completion of async operations</li>
                        <li><strong>async/await:</strong> Syntactic sugar for working with Promises</li>
                        <li><strong>try/catch:</strong> Error handling for async operations</li>
                        <li><strong>fetch():</strong> Modern API for making HTTP requests</li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <ul>
                        <li><strong>JSON parsing:</strong> response.json() returns a Promise</li>
                        <li><strong>Error handling:</strong> Check response.ok before parsing</li>
                        <li><strong>Loading states:</strong> Provide user feedback during requests</li>
                        <li><strong>CORS:</strong> Cross-Origin Resource Sharing considerations</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Filter Demo -->
        <section class="mb-5">
            <h2><i class="fas fa-filter text-danger"></i> Dynamic Filtering System</h2>
            <p>Combining JavaScript array methods with DOM manipulation to create interactive filters.</p>

            <div class="example-container">
                <div class="filter-demo">
                    <h5>Project Portfolio Filter</h5>
                    <div class="filter-buttons mb-3">
                        <button class="btn btn-primary filter-btn active" data-filter="all">All Projects</button>
                        <button class="btn btn-outline-primary filter-btn" data-filter="web">Web Development</button>
                        <button class="btn btn-outline-primary filter-btn" data-filter="mobile">Mobile Apps</button>
                        <button class="btn btn-outline-primary filter-btn" data-filter="design">UI/UX Design</button>
                    </div>

                    <div class="item-grid">
                        <div class="item-card" data-category="web">
                            <div class="bg-primary text-white text-center p-4 rounded">
                                <i class="fas fa-globe fa-3x mb-3"></i>
                            </div>
                            <div class="item-card-content">
                                <h6>E-commerce Website</h6>
                                <p class="small">React, Node.js, MongoDB</p>
                            </div>
                        </div>

                        <div class="item-card" data-category="mobile">
                            <div class="bg-success text-white text-center p-4 rounded">
                                <i class="fas fa-mobile-alt fa-3x mb-3"></i>
                            </div>
                            <div class="item-card-content">
                                <h6>Task Management App</h6>
                                <p class="small">React Native, Firebase</p>
                            </div>
                        </div>

                        <div class="item-card" data-category="web">
                            <div class="bg-info text-white text-center p-4 rounded">
                                <i class="fas fa-chart-bar fa-3x mb-3"></i>
                            </div>
                            <div class="item-card-content">
                                <h6>Analytics Dashboard</h6>
                                <p class="small">Vue.js, D3.js, Express</p>
                            </div>
                        </div>

                        <div class="item-card" data-category="design">
                            <div class="bg-warning text-white text-center p-4 rounded">
                                <i class="fas fa-palette fa-3x mb-3"></i>
                            </div>
                            <div class="item-card-content">
                                <h6>Brand Identity</h6>
                                <p class="small">Figma, Adobe Creative Suite</p>
                            </div>
                        </div>

                        <div class="item-card" data-category="mobile">
                            <div class="bg-danger text-white text-center p-4 rounded">
                                <i class="fas fa-gamepad fa-3x mb-3"></i>
                            </div>
                            <div class="item-card-content">
                                <h6>Mobile Game</h6>
                                <p class="small">Unity, C#</p>
                            </div>
                        </div>

                        <div class="item-card" data-category="web">
                            <div class="bg-secondary text-white text-center p-4 rounded">
                                <i class="fas fa-blog fa-3x mb-3"></i>
                            </div>
                            <div class="item-card-content">
                                <h6>Blog Platform</h6>
                                <p class="small">WordPress, PHP, MySQL</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="code-block" data-lang="JavaScript">
                <pre><code>// Filter System Implementation
class ProjectFilter {
    constructor() {
        this.projects = document.querySelectorAll('.item-card');
        this.filterButtons = document.querySelectorAll('.filter-btn');
        this.init();
    }

    init() {
        this.setupEventListeners();
        this.animateItems(); // Initial animation
    }

    setupEventListeners() {
        this.filterButtons.forEach(btn => {
            btn.addEventListener('click', (e) => {
                const category = e.target.dataset.filter;
                this.filterProjects(category);
                this.updateActiveButton(e.target);
            });
        });
    }

    filterProjects(category) {
        this.projects.forEach(project => {
            const projectCategory = project.dataset.category;
            const shouldShow = category === 'all' || projectCategory === category;

            if (shouldShow) {
                project.classList.remove('hidden');
                // Trigger animation
                setTimeout(() => project.style.transform = 'scale(1)', 50);
            } else {
                project.classList.add('hidden');
            }
        });

        // Update URL without page reload (SPA behavior)
        const url = new URL(window.location);
        url.searchParams.set('filter', category);
        window.history.pushState({}, '', url);
    }

    updateActiveButton(activeBtn) {
        this.filterButtons.forEach(btn => btn.classList.remove('active'));
        activeBtn.classList.add('active');
    }

    animateItems() {
        this.projects.forEach((project, index) => {
            project.style.animationDelay = `${index * 0.1}s`;
            project.classList.add('fade-in');
        });
    }

    // Search functionality
    searchProjects(searchTerm) {
        const term = searchTerm.toLowerCase();

        this.projects.forEach(project => {
            const title = project.querySelector('h6').textContent.toLowerCase();
            const tech = project.querySelector('p').textContent.toLowerCase();

            if (title.includes(term) || tech.includes(term)) {
                project.classList.remove('hidden');
            } else {
                project.classList.add('hidden');
            }
        });
    }
}

// Initialize filter system
const projectFilter = new ProjectFilter();

// Add search functionality
document.getElementById('projectSearch')?.addEventListener('input', (e) => {
    projectFilter.searchProjects(e.target.value);
});</code></pre>
            </div>
        </section>

        <!-- ES6+ Features -->
        <section class="mb-5">
            <h2><i class="fas fa-rocket text-success"></i> Modern JavaScript (ES6+) Features</h2>
            <p>ES6 and later versions introduce powerful features that make JavaScript more expressive and maintainable.</p>

            <div class="code-block" data-lang="JavaScript">
                <pre><code>// 1. Arrow Functions
const multiply = (a, b) => a * b;
const users = data.map(user => ({ ...user, active: true }));

// 2. Destructuring Assignment
const { name, age, email } = user;
const [first, second, ...rest] = array;

// 3. Template Literals
const message = `Hello ${name}, you are ${age} years old!`;
const html = `
    &lt;div class="user-card"&gt;
        &lt;h3&gt;${user.name}&lt;/h3&gt;
        &lt;p&gt;${user.email}&lt;/p&gt;
    &lt;/div&gt;
`;

// 4. Spread Operator
const newArray = [...oldArray, newItem];
const mergedObject = { ...obj1, ...obj2, newProp: 'value' };

// 5. Default Parameters
function greet(name = 'World', greeting = 'Hello') {
    return `${greeting}, ${name}!`;
}

// 6. Classes
class User {
    constructor(name, email) {
        this.name = name;
        this.email = email;
    }

    getInfo() {
        return `${this.name} (${this.email})`;
    }

    static createAdmin(name) {
        return new User(name, `admin@${name.toLowerCase()}.com`);
    }
}

class Developer extends User {
    constructor(name, email, skills = []) {
        super(name, email);
        this.skills = skills;
    }

    addSkill(skill) {
        this.skills.push(skill);
    }
}

// 7. Modules (ES6 import/export)
// export.js
export const apiUrl = 'https://api.example.com';
export function fetchData() { /* ... */ }
export default class ApiClient { /* ... */ }

// import.js
import ApiClient, { apiUrl, fetchData } from './export.js';

// 8. Promises and Async/Await
const fetchUserData = async (userId) => {
    try {
        const response = await fetch(`/api/users/${userId}`);
        const userData = await response.json();
        return userData;
    } catch (error) {
        console.error('Failed to fetch user:', error);
        throw error;
    }
};

// 9. Optional Chaining (?.)
const userName = user?.profile?.name ?? 'Unknown';
const firstHobby = user?.hobbies?.[0];

// 10. Nullish Coalescing (??)
const displayName = user.name ?? user.username ?? 'Anonymous';

// 11. Array methods (ES6+)
const numbers = [1, 2, 3, 4, 5];

// Find and includes
const found = numbers.find(n => n > 3); // 4
const hasThree = numbers.includes(3); // true

// Reduce with complex operations
const stats = numbers.reduce((acc, num) => ({
    sum: acc.sum + num,
    count: acc.count + 1,
    avg: (acc.sum + num) / (acc.count + 1)
}), { sum: 0, count: 0, avg: 0 });

// 12. Object methods
const keys = Object.keys(user);
const values = Object.values(user);
const entries = Object.entries(user);

// Object.assign and spread
const updatedUser = Object.assign({}, user, { lastLogin: new Date() });
const betterUpdatedUser = { ...user, lastLogin: new Date() };

// 13. Set and Map
const uniqueSkills = new Set(['JavaScript', 'Python', 'JavaScript']);
const userMap = new Map([
    ['john', { name: 'John', role: 'developer' }],
    ['jane', { name: 'Jane', role: 'designer' }]
]);

// 14. Symbol
const id = Symbol('id');
const user = { [id]: 123, name: 'John' };</code></pre>
            </div>

            <h3>Key ES6+ Benefits:</h3>
            <div class="row">
                <div class="col-md-6">
                    <ul>
                        <li><strong>Cleaner Syntax:</strong> Arrow functions, template literals</li>
                        <li><strong>Better Data Handling:</strong> Destructuring, spread operator</li>
                        <li><strong>Class-Based OOP:</strong> Classes and inheritance</li>
                        <li><strong>Module System:</strong> Import/export for code organization</li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <ul>
                        <li><strong>Async Programming:</strong> Promises, async/await</li>
                        <li><strong>Error Handling:</strong> Optional chaining, nullish coalescing</li>
                        <li><strong>Data Structures:</strong> Set, Map for better performance</li>
                        <li><strong>Functional Programming:</strong> Array methods, immutable operations</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- SPA Concepts -->
        <section class="mb-5">
            <h2><i class="fas fa-spa text-primary"></i> Single Page Application Concepts</h2>
            <p>Understanding how modern web applications work without full page reloads using the History API and client-side routing.</p>

            <div class="example-container">
                <div class="mb-3">
                    <h5>SPA Navigation Demo</h5>
                    <div class="btn-group" role="group">
                        <button class="btn btn-outline-primary spa-nav" data-page="home">Home</button>
                        <button class="btn btn-outline-primary spa-nav" data-page="about">About</button>
                        <button class="btn btn-outline-primary spa-nav" data-page="projects">Projects</button>
                        <button class="btn btn-outline-primary spa-nav" data-page="contact">Contact</button>
                    </div>
                </div>

                <div class="border rounded p-4">
                    <div id="spa-content">
                        <div class="text-center">
                            <i class="fas fa-home fa-3x text-primary mb-3"></i>
                            <h4>Home Page</h4>
                            <p>Welcome to the SPA demo! Navigate using the buttons above.</p>
                        </div>
                    </div>
                </div>

                <div class="mt-3">
                    <small class="text-muted">Current URL: <span id="current-url">/</span></small>
                </div>
            </div>

            <div class="code-block" data-lang="JavaScript">
                <pre><code>// Simple SPA Router Implementation
class SimpleSPARouter {
    constructor() {
        this.routes = {
            'home': {
                title: 'Home',
                content: `
                    &lt;div class="text-center"&gt;
                        &lt;i class="fas fa-home fa-3x text-primary mb-3"&gt;&lt;/i&gt;
                        &lt;h4&gt;Home Page&lt;/h4&gt;
                        &lt;p&gt;Welcome to the SPA demo!&lt;/p&gt;
                    &lt;/div&gt;
                `
            },
            'about': {
                title: 'About',
                content: `
                    &lt;div class="text-center"&gt;
                        &lt;i class="fas fa-user fa-3x text-success mb-3"&gt;&lt;/i&gt;
                        &lt;h4&gt;About Page&lt;/h4&gt;
                        &lt;p&gt;This demonstrates client-side routing.&lt;/p&gt;
                    &lt;/div&gt;
                `
            },
            'projects': {
                title: 'Projects',
                content: `
                    &lt;div class="text-center"&gt;
                        &lt;i class="fas fa-code fa-3x text-warning mb-3"&gt;&lt;/i&gt;
                        &lt;h4&gt;Projects Page&lt;/h4&gt;
                        &lt;p&gt;View our portfolio of projects.&lt;/p&gt;
                    &lt;/div&gt;
                `
            }
        };

        this.init();
    }

    init() {
        // Handle navigation clicks
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('spa-nav')) {
                e.preventDefault();
                const page = e.target.dataset.page;
                this.navigateTo(page);
            }
        });

        // Handle browser back/forward buttons
        window.addEventListener('popstate', (e) => {
            const page = e.state?.page || 'home';
            this.renderPage(page);
        });
    }

    navigateTo(page) {
        // Update browser history
        const url = `/${page}`;
        window.history.pushState({ page }, '', url);

        // Render the new page
        this.renderPage(page);

        // Update current URL display
        document.getElementById('current-url').textContent = url;
    }

    renderPage(page) {
        const route = this.routes[page] || this.routes['home'];

        // Update page content
        document.getElementById('spa-content').innerHTML = route.content;

        // Update page title
        document.title = `${route.title} - SPA Demo`;

        // Update active navigation button
        document.querySelectorAll('.spa-nav').forEach(btn => {
            btn.classList.remove('active');
            if (btn.dataset.page === page) {
                btn.classList.add('active');
            }
        });

        // Add page transition animation
        const content = document.getElementById('spa-content');
        content.style.opacity = '0';
        setTimeout(() => {
            content.style.opacity = '1';
        }, 50);
    }
}

// Initialize SPA router
const router = new SimpleSPARouter();

// Advanced SPA features
class AdvancedSPARouter {
    constructor() {
        this.currentPage = null;
        this.beforeRouteChange = null;
        this.afterRouteChange = null;
    }

    // Lifecycle hooks
    beforeEach(callback) {
        this.beforeRouteChange = callback;
    }

    afterEach(callback) {
        this.afterRouteChange = callback;
    }

    // Route guards
    canActivate(page) {
        // Authentication check, permissions, etc.
        if (page === 'admin' && !this.isAuthenticated()) {
            this.navigateTo('login');
            return false;
        }
        return true;
    }

    // Lazy loading
    async loadPageComponent(page) {
        try {
            const module = await import(`./pages/${page}.js`);
            return module.default;
        } catch (error) {
            console.error(`Failed to load page ${page}:`, error);
            return null;
        }
    }
}</code></pre>
            </div>
        </section>

        <!-- Summary -->
        <section class="mb-5">
            <div class="alert alert-primary">
                <h3><i class="fas fa-graduation-cap"></i> JavaScript Summary</h3>
                <p><strong>JavaScript</strong> is the programming language of the web, enabling dynamic, interactive user experiences. Modern JavaScript (ES6+) provides powerful features for building scalable applications.</p>

                <p>Key concepts mastered:</p>
                <ul>
                    <li><strong>DOM Manipulation:</strong> Dynamically updating page content and handling events</li>
                    <li><strong>Array Methods:</strong> Functional programming with map, filter, reduce</li>
                    <li><strong>Async Programming:</strong> Fetch API, Promises, and async/await</li>
                    <li><strong>ES6+ Features:</strong> Modern syntax and language improvements</li>
                    <li><strong>SPA Concepts:</strong> Client-side routing and state management</li>
                    <li><strong>Real-world Applications:</strong> Todo apps, filtering systems, API integration</li>
                </ul>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-dark text-white py-4">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <pre>&copy; 2025 Full Stack Development ePortfolio by Rohan Khanal.
                                All rights reserved.</pre>
                </div>
                <div class="col-md-6 text-end">
                    <p>CET138 Full Stack Development Module</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>

    <script>
        // DOM Manipulation Demo Functions
        function changeText() {
            const element = document.getElementById('demoElement');
            const input = document.getElementById('textInput');
            const newText = input.value || 'Text changed by JavaScript!';

            element.querySelector('p').textContent = newText;
            logEvent(`Changed text to: "${newText}"`);
        }

        function changeColor() {
            const element = document.getElementById('demoElement');
            const colors = ['#007bff', '#28a745', '#dc3545', '#ffc107', '#6f42c1'];
            const randomColor = colors[Math.floor(Math.random() * colors.length)];

            element.style.backgroundColor = randomColor;
            element.style.color = 'white';
            logEvent(`Changed background color to: ${randomColor}`);
        }

        function addClass() {
            const element = document.getElementById('demoElement');
            element.classList.add('border-primary', 'shadow');
            logEvent('Added CSS classes: border-primary, shadow');
        }

        function resetDemo() {
            const element = document.getElementById('demoElement');
            element.style.backgroundColor = '';
            element.style.color = '';
            element.className = 'p-4 border rounded text-center';
            element.querySelector('p').textContent = 'This element will be modified by JavaScript';

            document.getElementById('textInput').value = '';
            document.getElementById('eventLog').innerHTML = '<li class="list-group-item small">Event log reset</li>';
        }

        function logEvent(message) {
            const log = document.getElementById('eventLog');
            const timestamp = new Date().toLocaleTimeString();
            const listItem = document.createElement('li');
            listItem.className = 'list-group-item small';
            listItem.innerHTML = `<strong>${timestamp}:</strong> ${message}`;
            log.insertBefore(listItem, log.firstChild);

            // Keep only last 5 events
            while (log.children.length > 5) {
                log.removeChild(log.lastChild);
            }
        }

        // Array Methods Demo
        const sampleUsers = [
            { name: 'John Doe', age: 25, role: 'developer', salary: 60000 },
            { name: 'Jane Smith', age: 30, role: 'designer', salary: 55000 },
            { name: 'Bob Johnson', age: 35, role: 'manager', salary: 75000 },
            { name: 'Alice Brown', age: 28, role: 'developer', salary: 65000 }
        ];

        function demoMap() {
            const result = sampleUsers.map(user => ({
                name: user.name,
                displayName: `${user.name} (${user.age} years old)`
            }));

            document.getElementById('arrayOutput').innerHTML = 
                'map() - Transform each element:<br><br>' + 
                JSON.stringify(result, null, 2);
        }

        function demoFilter() {
            const developers = sampleUsers.filter(user => user.role === 'developer');

            document.getElementById('arrayOutput').innerHTML = 
                'filter() - Select developers only:<br><br>' + 
                JSON.stringify(developers, null, 2);
        }

        function demoReduce() {
            const totalSalary = sampleUsers.reduce((sum, user) => sum + user.salary, 0);
            const avgAge = sampleUsers.reduce((sum, user) => sum + user.age, 0) / sampleUsers.length;

            document.getElementById('arrayOutput').innerHTML = 
                `reduce() - Calculate aggregates:<br><br>Total Salary: $${totalSalary.toLocaleString()}<br>Average Age: ${avgAge.toFixed(1)} years`;
        }

        function demoFind() {
            const manager = sampleUsers.find(user => user.role === 'manager');
            const youngDev = sampleUsers.find(user => user.role === 'developer' && user.age < 30);

            document.getElementById('arrayOutput').innerHTML = 
                'find() - Get first matching element:<br><br>' +
                `Manager: ${JSON.stringify(manager, null, 2)}<br><br>` +
                `Young Developer: ${JSON.stringify(youngDev, null, 2)}`;
        }

        // Simple SPA Router
        class SimpleSPARouter {
            constructor() {
                this.routes = {
                    'home': {
                        title: 'Home',
                        content: `
                            <div class="text-center">
                                <i class="fas fa-home fa-3x text-primary mb-3"></i>
                                <h4>Home Page</h4>
                                <p>Welcome to the SPA demo! Navigate using the buttons above.</p>
                            </div>
                        `
                    },
                    'about': {
                        title: 'About',
                        content: `
                            <div class="text-center">
                                <i class="fas fa-user fa-3x text-success mb-3"></i>
                                <h4>About Page</h4>
                                <p>This demonstrates client-side routing without page reloads.</p>
                            </div>
                        `
                    },
                    'projects': {
                        title: 'Projects',
                        content: `
                            <div class="text-center">
                                <i class="fas fa-code fa-3x text-warning mb-3"></i>
                                <h4>Projects Page</h4>
                                <p>Here you would see a portfolio of projects.</p>
                            </div>
                        `
                    },
                    'contact': {
                        title: 'Contact',
                        content: `
                            <div class="text-center">
                                <i class="fas fa-envelope fa-3x text-info mb-3"></i>
                                <h4>Contact Page</h4>
                                <p>Get in touch with us through this page.</p>
                            </div>
                        `
                    }
                };

                this.init();
            }

            init() {
                document.addEventListener('click', (e) => {
                    if (e.target.classList.contains('spa-nav')) {
                        e.preventDefault();
                        const page = e.target.dataset.page;
                        this.navigateTo(page);
                    }
                });

                window.addEventListener('popstate', (e) => {
                    const page = e.state?.page || 'home';
                    this.renderPage(page);
                });
            }

            navigateTo(page) {
                const url = `/${page}`;
                window.history.pushState({ page }, '', url);
                this.renderPage(page);
                document.getElementById('current-url').textContent = url;
            }

            renderPage(page) {
                const route = this.routes[page] || this.routes['home'];
                const content = document.getElementById('spa-content');

                content.style.opacity = '0';
                setTimeout(() => {
                    content.innerHTML = route.content;
                    content.style.opacity = '1';
                }, 150);

                document.querySelectorAll('.spa-nav').forEach(btn => {
                    btn.classList.toggle('active', btn.dataset.page === page);
                });
            }
        }

        // Initialize SPA router when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            new SimpleSPARouter();
        });
    </script>
</body>
</html>
